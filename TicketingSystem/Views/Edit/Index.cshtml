

@{
    ViewData["Title"] = "Index";
}

<h2>Edit Page</h2>

@*<button onclick="location.href='@Url.Action("EditForm", "Edit")'">Open in Form</button>*@

@*<form id="entryForm" class="form-horizontal" asp-action="EditForm" asp-controller="Edit">
        <div class="form-group" id="entryIdContainer">
            <label class="control-label col-sm-2" for="entryId">Entry ID:</label>
            <div class="col-sm-10">
                <input type="number" class="form-control" id="entryId">
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn-dark" id="subBtn">Submit</button>
            </div>
        </div>
    </form>*@

<div class="form-group" id="entryIdContainer">
    <label class="control-label col-sm-2" for="entryId">Entry ID:</label>
    <div class="col-sm-10">
        <input type="number" class="form-control" id="entryId">
    </div>
</div>

<div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
        <button onclick="postId()" class="btn-dark" id="subBtn">Submit</button>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>

<script>
    function postId() {
        var id = $('#entryId').val()
        console.log(id)
        $.ajax({
            type: "POST",
            url: '@Url.Action("GetRecord", "Edit")',
            data: { entryID: id},
            success: function () {
                console.log('success')
            },
            error: function (e) {
                alert('Error')
                console.log(e)
            }
        }).done(function (data) {
            window.location.replace(data.newUrl)
        })
    }

</script>


